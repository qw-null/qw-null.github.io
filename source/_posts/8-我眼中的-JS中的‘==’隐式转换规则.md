---
title: 【我眼中的】 - 【8】JS中的 ‘==’ 隐式转换规则
date: 2022-06-12 14:00:52
categories:
- 我眼中的系列
tags:
- 我眼中的系列
---
## ✍ 转换关系图
![](https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220612145432.png)
1.对象和布尔值进行比较时，对象先转换为字符串，然后再转换为数字，布尔值直接转换为数字
2.对象和字符串进行比较时，对象转换为字符串，然后两者进行比较
3.对象和数字比较时，对象转化为字符串,然后转换为数字，再和数字进行比较
4.字符串和数字比较时，字符串转换为数字
5.字符串和布尔值进行比较时，二者全部转换成数值再比较
6.布尔值和数字进行比较时，布尔转换为数字

## ✍ 五条重要规则：
1. ```NaN```和其他任何类型比较永远返回```false```（包括它自己）

```NaN == NaN``` ➡️ ```false```

2. ```Boolean```和其他任何类型比较，```Boolean```都会首先被转换为```Number```

3. ```String```和```Number```进行比较，现将 ```String```转换为```Number```类型

4. ```null == undefined```结果为```true```，除此之外，和其他任何类型比较结果都为```false```

5. 原始类型和引用类型做比较时，引用类型会依照```ToPrimitive```规则转换为原始类型（```ToPrimitive```规则是引用数据类型向原始类型转换的规则，它遵循先```valueOf```后```toString```的模式期望得到一个原始类型）

## ✍ 数学运算中的类型转换
对各种非```NUmber```类型进行 （-*/）运算时，会现将非```Number```类型转换为```Number```类型

```javascript
1-true // 0,先将true转化为数字1
1-null //1,先将null转换为数字0
1*undefined //NaN,先将undefined转化为数字NaN
2*['5'] // ['5']首先会转换为'5'，然后再转化为数字5
```
✨ <b>加法的特殊性</b>
①一侧为```String```,被识别为字符串拼接。 ```123+'123'='123123'```
②一侧为```Number```，另一侧为原始类型，将原始类型转换为```Number```。```123+true = 124; 123+null=123```
③一侧为```Number```，另一侧为引用数据类型，先将引用数据类型和```Number```转换为字符串，然后拼接。```123+{}='123[object object]' ```

## ✍ 逻辑语句中的类型转换
单个变量：只有```null、undefined、''、NaN、0、false```的结果为```false```，其余的结果为```true```(比如，```{}、[]```)
## ✍ 重点
```{}```转换为字符串是```[object,object]```

```[object,object]```转换为数值是```NaN```

```null==undefined```结果为```true```，除此之外和其他任何值比较的结果都为```false```