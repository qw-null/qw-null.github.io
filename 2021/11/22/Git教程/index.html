<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Git教程"><meta name="keywords" content="Git"><meta name="author" content="qinwei"><meta name="copyright" content="qinwei"><title>Git教程 | QW's Blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '5.4.0'
} </script><meta name="generator" content="Hexo 5.4.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"><span class="toc-text">1.版本控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E4%B8%AD%E5%8C%96%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F-SVN%EF%BC%89"><span class="toc-text">集中化的版本控制系统 (SVN）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F-%EF%BC%88Git%EF%BC%89"><span class="toc-text">分布式的版本控制系统 （Git）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Git%E5%BA%95%E5%B1%82%E6%A6%82%E5%BF%B5"><span class="toc-text">2.Git底层概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E5%9F%BA%E7%A1%80Linux%E5%91%BD%E4%BB%A4"><span class="toc-text">2.1 基础Linux命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B0%E4%BB%93%E5%BA%93%E4%B8%8E-git%E7%9B%AE%E5%BD%95"><span class="toc-text">2.2 初始化新仓库与.git目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-Git%E5%8C%BA%E5%9F%9F%E4%B8%8E%E5%AF%B9%E8%B1%A1"><span class="toc-text">2.3 Git区域与对象</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-1-%E5%8C%BA%E5%9F%9F"><span class="toc-text">2.3.1 区域</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text">工作流程</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3-2%E5%AF%B9%E8%B1%A1%EF%BC%88Git%E5%BA%95%E5%B1%82%E6%A6%82%E5%BF%B5%EF%BC%89"><span class="toc-text">2.3.2对象（Git底层概念）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4%E5%B0%8F%E7%BB%93"><span class="toc-text">2.4小结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Git%E9%AB%98%E5%B1%82%E5%91%BD%E4%BB%A4"><span class="toc-text">3.Git高层命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-git%E6%93%8D%E4%BD%9C%E6%9C%80%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B"><span class="toc-text">3.1 git操作最基本流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-git%E7%9A%84%E5%88%86%E6%94%AF"><span class="toc-text">3.2 git的分支</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3%E5%B0%8F%E7%BB%93"><span class="toc-text">3.3小结</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Git%E5%AD%98%E5%82%A8"><span class="toc-text">4.Git存储</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Git%E5%90%8E%E6%82%94%E8%8D%AF"><span class="toc-text">5.Git后悔药</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-reset-%E4%B8%89%E9%83%A8%E6%9B%B2-%E5%8E%9F%E7%90%86"><span class="toc-text">5.1 reset 三部曲(原理)</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D"><span class="toc-text">6.数据恢复</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E6%89%93tag"><span class="toc-text">7.打tag</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C"><span class="toc-text">8.团队协作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#8-1%E6%AD%A3%E5%B8%B8%E7%9A%84%E6%95%B0%E6%8D%AE%E6%8E%A8%E9%80%81%E5%92%8C%E6%8B%89%E5%8F%96%E6%AD%A5%E9%AA%A4"><span class="toc-text">8.1正常的数据推送和拉取步骤</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20211013182113.JPG"></div><div class="author-info__name text-center">qinwei</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/qw-null">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">83</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">27</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">24</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/qw-null/BlogImages/223.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">QW's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/archives">创作时间线</a><a class="site-page" target="_blank" rel="noopener" href="https://github.com/qw-null">Github</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title">Git教程</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-11-22</time><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">4.7k</span><span class="post-meta__separator">|</span><span>阅读时长: 15 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV15J411973T?share_source=copy_web">尚硅谷Git教程全套完整版</a></p>
<h2 id="1-版本控制"><a href="#1-版本控制" class="headerlink" title="1.版本控制"></a>1.版本控制</h2><p>使用版本控制可以将某个文件回溯到之前的状态，设置将某个项目回退到过去某个时间点的状态。</p>
<h4 id="集中化的版本控制系统-SVN）"><a href="#集中化的版本控制系统-SVN）" class="headerlink" title="集中化的版本控制系统 (SVN）"></a>集中化的版本控制系统 (SVN）</h4><p><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20211122145302.png"><br>优点：代码存放在单一的服务器上，便于项目管理<br>缺点：</p>
<ol>
<li><p>中央服务器的单点故障<br>如果服务器宕机一小时，那么在这一小时内，谁都无法提交更新，也就无法协同工作。</p>
<blockquote>
<p><span style="color:blue;">(并不是说服务器故障了就没有办法写代码了,只是在服务器故障的情况下,编写的代码是没有办法得到保障的.试想 svn 中央服务器挂机一天.你还拼命写了一天代码,其中 12 点之前的代码都是高质量可靠的,而且有很多闪光点.而 12 点之后的代码由于你想尝试一个比较大胆的想法,将代码改的面目全非了.这样下来你 12 点之前做的工作也都白费了 有记录的版本只能是 svn 服务器挂掉时保存的版本!)</span></p>
</blockquote>
</li>
<li><p>中央服务器磁盘发生故障</p>
<blockquote>
<p>要是中央服务器的磁盘发生故障，碰巧没做备份，或者备份不够及时，就会有丢失数据的风险。最坏的情况是彻底丢失整个项目的所有历史更改记录，而客户端偶然提取出来的保存在本地的某些快照数据就成了恢复数据的希望。但这样的话依然是个问题，你不能保证所有的数据都已经有人事先完整提取出来过。只要整个项目的历史记录被保存在单一位置，就有丢失所有历史更新记录的风险。</p>
</blockquote>
</li>
</ol>
<p>  <img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20211122151436.png"></p>
<p>SVN每次存的都是版本之间的差异代码，需要硬盘空间相对小一些，但是回滚的速度会很慢<br><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20211220100343.png"></p>
<h4 id="分布式的版本控制系统-（Git）"><a href="#分布式的版本控制系统-（Git）" class="headerlink" title="分布式的版本控制系统 （Git）"></a>分布式的版本控制系统 （Git）</h4><p><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20211122152040.png"><br><em>客户端并不只是提取最新版本的文件快照，而是把代码仓库完整地镜像下来</em></p>
<p>Git每次存储的都是项目的完整快照，需要的硬盘空间会相对大一些（Git团队对代码做了极致的压缩，最终需要的实际空间比SVN多不了多少），Git的回滚速度极快<br><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20211122154932.png"></p>
<p>优点：完全的分布式<br>缺点：学习成本高</p>
<h2 id="2-Git底层概念"><a href="#2-Git底层概念" class="headerlink" title="2.Git底层概念"></a>2.Git底层概念</h2><h4 id="2-1-基础Linux命令"><a href="#2-1-基础Linux命令" class="headerlink" title="2.1 基础Linux命令"></a>2.1 基础Linux命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">clear <span class="comment"># 清除屏幕</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;test content&#x27;</span> <span class="comment">#往控制台输出信息 echo &#x27;test content&#x27; &gt; test.txt</span></span><br><span class="line">ll <span class="comment">#将当前目录下的 子文件&amp;子目录平铺在控制台</span></span><br><span class="line">find 目录名 <span class="comment">#将对应目录下的子孙文件&amp;子孙目录平铺在控制台</span></span><br><span class="line">find 目录名 -<span class="built_in">type</span> f <span class="comment"># 将对应目录下的文件平铺在控制台</span></span><br><span class="line">rm 文件名 <span class="comment">#删除文件</span></span><br><span class="line">mv 源文件 重命名文件 <span class="comment">#重命名</span></span><br><span class="line">cat 文件的url <span class="comment">#查看对应文件的内容</span></span><br><span class="line">vim 文件的url（在英文模式下）</span><br><span class="line">  按i进入插入模式 进行文件的编辑</span><br><span class="line">  按esc键 + 按:键 进入命令的执行</span><br><span class="line">    q! <span class="comment">#强制退出（不保存）</span></span><br><span class="line">    wq <span class="comment">#保存退出</span></span><br><span class="line">    <span class="built_in">set</span> nu <span class="comment">#设置行号</span></span><br></pre></td></tr></table></figure>
<h4 id="2-2-初始化新仓库与-git目录"><a href="#2-2-初始化新仓库与-git目录" class="headerlink" title="2.2 初始化新仓库与.git目录"></a>2.2 初始化新仓库与.git目录</h4><p>首次使用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git版本信息</span></span><br><span class="line">git --version</span><br><span class="line"><span class="comment"># git配置</span></span><br><span class="line">git config --global user.name <span class="string">&quot;我的用户名&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;我的邮箱&quot;</span></span><br><span class="line"><span class="comment"># 查看当前配置</span></span><br><span class="line">git config --list</span><br><span class="line"><span class="comment"># 修改时使用相同的命令进行覆盖</span></span><br><span class="line"><span class="comment"># git config --global user.name &quot;我的用户名&quot;</span></span><br><span class="line"><span class="comment"># git config --global user.email &quot;我的邮箱&quot;</span></span><br></pre></td></tr></table></figure>
<p>初始化新仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">1. 初始化后，在当前目录下会出现一个名为 .git 的目录，所有 Git 需要的数据和资源都存放在这个目录中。</span><br><span class="line">2. 要对现有的某个项目开始用 Git 管理，只需到此项目所在的目录，执行：git init</span><br></pre></td></tr></table></figure>
<p>.git目录<br><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20211220142540.png"></p>
<h4 id="2-3-Git区域与对象"><a href="#2-3-Git区域与对象" class="headerlink" title="2.3 Git区域与对象"></a>2.3 Git区域与对象</h4><h5 id="2-3-1-区域"><a href="#2-3-1-区域" class="headerlink" title="2.3.1 区域"></a>2.3.1 区域</h5><ol>
<li>工作区（Working Directory）<br>本地代码，日常书写代码目录，肉眼可见区域（沙箱环境：git不会对其进行管理）</li>
<li>暂存区（Stage 或 Index）<br>数据暂时存放的区域，可在工作区和版本库之间进行数据的友好交流。</li>
<li>版本库（commit History）<br>git commit 后给你生成版本的地方,注意push是提交到远程仓库而不是版本库,请勿混淆</li>
</ol>
<h6 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h6><blockquote>
<p>每个项目都有一个git目录（.git），它是用来保存元数据和对象数据库的地方，每次克隆镜像仓库时，实际上就是拷贝这个目录里的数据。<br>①、在工作目录中修改某些文件<br>   从项目中取出某个版本的所有文件和目录,用以开始后续工作的叫做工作目录,这些文件实际上都是从Git目录中的压缩对象数据库中提取出来的,接下去就可以在工作目录中对这些文件进行编辑<br>②、保存到暂存区域,对暂存区做快照<br>   暂存区域只不过是个简单的文件,一般都放在Git目录中,有时候人们会把这个区域的文件叫做索引文件,不过标准说法还是叫暂存区域<br>③、提交更新<br>   将保存区在暂存区域的文件快照永久转储到本地数据库(Git目录)中</p>
</blockquote>
<p>   可以从文件所处的位置来判断状态</p>
<h5 id="2-3-2对象（Git底层概念）"><a href="#2-3-2对象（Git底层概念）" class="headerlink" title="2.3.2对象（Git底层概念）"></a>2.3.2对象（Git底层概念）</h5><ol>
<li><p>Git对象</p>
<p>key : value 组成的键值对,key是value对应的hash，键值对在git内部都是一个blob类型<br>git对象存储文件内容<br>git对象代表文件的一次次版本</p>
   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">》了解即可《</span><br><span class="line">① 直接写入git对象方法与读取(存入<span class="string">&quot;.git/objects&quot;</span>)</span><br><span class="line"><span class="comment">#将打印内容写入对象(git数据库)并且返回其相应哈希值</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;写入的对象内容&quot;</span> | git hash-object -w --stdin </span><br><span class="line"></span><br><span class="line"><span class="comment">#读取内容并不能直接cat读取,因为git存入时已经加密,需要如下代码 -p:内容  -t:类型</span></span><br><span class="line">git cat-file -p 存入对象的哈希值(此值可以由上一步得到) </span><br><span class="line"></span><br><span class="line"><span class="comment">#将文件写入git对象,即我们常见的版本控制中出现的</span></span><br><span class="line">git hash-object -w ./test.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#查看Git存储的数据  返回其文件夹内的所有哈希文件</span></span><br><span class="line">find .git/objects -<span class="built_in">type</span> f </span><br></pre></td></tr></table></figure></li>
<li><p>树对象<br>树对象代表项目的一次次快照</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">》了解即可《</span><br><span class="line">构建树对象</span><br><span class="line">我们可以通过 update-index , write-tree , read-tree 等命令来构建树对象并且塞到暂存区</span><br><span class="line"></span><br><span class="line">① 利用 update-index 命令 创建暂存区</span><br><span class="line">利用 update-index 命令 为test.txt文件的首个版本创建一个暂存区,并通过write-tree命令生成树对象</span><br><span class="line"></span><br><span class="line"><span class="comment">#1生成一个树对象</span></span><br><span class="line">git update-index --add --cacheinfo 100664(文件状态码:普通文件) 哈希值 对应文件名</span><br><span class="line"><span class="comment">#生成快照(树对象)</span></span><br><span class="line">git write-tree</span><br><span class="line"><span class="comment">#2 将第一个树对象加入第二个树对象,使其成为新的树对象</span></span><br><span class="line">git read-tree -prefix=bak 哈希值(树对象的)  </span><br><span class="line">git write-tree</span><br><span class="line">② 查看暂存区当前样子</span><br><span class="line">git ls-files -s</span><br></pre></td></tr></table></figure></li>
<li><p>提交对象 – 链式<br>我们可以通过调用commit-tree命令创建一个提交对象,为此需要指定一个树对象的SHA-1值,为此需要指定一个树对象的SHA-1值 , 以及该提交的父提交对象(如果有的话,第一次将暂存区做快照就没有父对象)</p>
</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220105231626.png"></p>
<h4 id="2-4小结"><a href="#2-4小结" class="headerlink" title="2.4小结"></a>2.4小结</h4><ol>
<li>底层命令<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git对象：</span><br><span class="line">   git hash-object -w fileUrl //生成一个key（hash值）:value（压缩后的文件内容）键值对存到.git/objects</span><br><span class="line">tree对象</span><br><span class="line">   git update-index --add --cacheinfo 100644 hash test.txt //往暂存区添加一条记录（让git对象 对应上 文件名）存到.git/index</span><br><span class="line">   git write-tree //生成树对象存到.git/objects</span><br><span class="line">commit对象</span><br><span class="line">   echo &#x27;first commit&#x27; | git commit-tree treehash //生成一个提交对象存到.git/objects</span><br><span class="line">对以上对象的查询</span><br><span class="line">   git cat-file -p hash  //拿对应对象的内容</span><br><span class="line">   git cat-file -t hash  //拿对应对象的类型</span><br></pre></td></tr></table></figure></li>
<li>查看暂存区（需要记忆）<br><code>git  ls-files  -s</code></li>
</ol>
<h2 id="3-Git高层命令"><a href="#3-Git高层命令" class="headerlink" title="3.Git高层命令"></a>3.Git高层命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">git init                     初始化仓库</span><br><span class="line">git add ./                   将修改添加到暂存区</span><br><span class="line">git commit -a                Git 就会自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过 git add 步骤</span><br><span class="line">git commit -m  注释          将暂存区提交到版本库</span><br><span class="line">git status                   查看文件的状态</span><br><span class="line">git diff                     查看哪些修改还没有暂存</span><br><span class="line">git diff --staged            查看哪些修改以及被暂存，还没有提交</span><br><span class="line">git log                      查看操作日志</span><br><span class="line">git rm 文件名                删除工作目录中对应的文件，再将修改添加到暂存区</span><br><span class="line">git mv 原文件名  新文件名     将工作目录中文件进行重命名，再将修改添加到暂存区</span><br><span class="line">---</span><br><span class="line">git branch                   显示分支列表</span><br><span class="line">git branch 分支名            创建分支</span><br><span class="line">git checkout 分支名          切换分支</span><br><span class="line">git branch -d 分支名         删除分支（**不能在本分支上删除该分支，需切出去）</span><br><span class="line">git branch -v                查看每一个分支的最后一次提交</span><br><span class="line">git branch -D 分支名         强制删除分支</span><br><span class="line">git branch name commitHash   新建一个分支并且使分支指向对应的提交对象，commitHash通过下面的命令查找</span><br><span class="line">git log --oneline --decorate --graph --all     查看项目的分叉历史</span><br></pre></td></tr></table></figure>
<h5 id="3-1-git操作最基本流程"><a href="#3-1-git操作最基本流程" class="headerlink" title="3.1 git操作最基本流程"></a>3.1 git操作最基本流程</h5><p>创建工作目录 ——&gt;  对工作目录进行修改</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git add ./</span><br><span class="line">   + 对应底层命令 ：</span><br><span class="line">   git hash-object -w 文件名（修改了多少个工作目录中的文件，此命令就要被执行多少次）</span><br><span class="line">   git update-index...</span><br><span class="line">git commit -m <span class="string">&quot;注释内容&quot;</span></span><br><span class="line">   + 对应底层命令 ： </span><br><span class="line">   git write-tree **</span><br><span class="line">   git commit-tree **</span><br></pre></td></tr></table></figure>
<p>检查当前文件的状态<br>命令： <code>git  status</code><br>作用：确定文件当前处于什么状态<br>工作目录下面的所有文件都不外乎这两种状态：<span style="color:red;">已跟踪</span> 或 <span style="color:red;">未跟踪</span><br>已跟踪的文件是指本来就被纳入版本控制管理的文件，在上次快照中有它们的记录，工作一段时间后，它们的状态可能是<span style="color:red;">已提交</span>，<span style="color:red;">已修改</span>或者<span style="color:red;">已暂存</span></p>
<p>查看操作日志<br>命令：<code>git log</code><br>作用：在提交了若干更新，又或者克隆了某个项目之后，想回顾下提交历史。<br>其他：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 规整查看信息的格式</span><br><span class="line">git log --pretty=oneline</span><br><span class="line">git log --oneline</span><br></pre></td></tr></table></figure>

<h5 id="3-2-git的分支"><a href="#3-2-git的分支" class="headerlink" title="3.2 git的分支"></a>3.2 git的分支</h5><p>创建分支<br>命令：<code>git branch</code><br>作用：为你创建了一个可以移动的新的指针。 比如，创建一个 testing 分支：<code>git branch testing</code>。这会在当前所在的提交对象上创建一个指针</p>
<p>Git 的分支本质上是一个提交对象，HEAD是一个指针，默认指向master分支，切换分支时就是让HEAD指向不同的分支</p>
<p>分支切换会改变你工作目录中的文件。在切换分支时，一定要注意你工作目录里的文件会被改变。 如果是切换到一个较旧的分支，你的工作目录会恢复到该分支最后一次提交时的样子。如果 Git 不能干净利落地完成这个任务，它将禁止切换分支</p>
<ul>
<li>git切换分支会改变三个地方：HEAD、暂存区、工作目录</li>
<li>最佳实践：每次切换分支前，当前分支一定要处于已提交状态</li>
<li>切换分支时，如果当前分支上有未暂存的修改 或者 有未提交的暂存（第一次），分支可以切换成功，但是这种操作可能会污染其他分支</li>
</ul>
<h5 id="3-3小结"><a href="#3-3小结" class="headerlink" title="3.3小结"></a>3.3小结</h5><p>已下命令需要记忆</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"># 安装</span><br><span class="line">git --version</span><br><span class="line"></span><br><span class="line"># 初始化配置</span><br><span class="line">git config --global user.name &quot;qw&quot;</span><br><span class="line">git config --global user.email qw@qq.com</span><br><span class="line">git config --list</span><br><span class="line"></span><br><span class="line"># 初始化仓库</span><br><span class="line">git init</span><br><span class="line"></span><br><span class="line"># C（新增）-- 在工作目录中新增文件</span><br><span class="line">git status</span><br><span class="line">git add ./</span><br><span class="line">git commit -m &quot;msg&quot;</span><br><span class="line"></span><br><span class="line"># U（修改）-- 在工作目录中修改文件</span><br><span class="line">git status</span><br><span class="line">git add ./</span><br><span class="line">git commit -m &quot;msg&quot;</span><br><span class="line"></span><br><span class="line"># D（删除 &amp; 重命名）--在工作目录中删除文件</span><br><span class="line">git rm 要删除的文件</span><br><span class="line">git mv 老文件  新文件</span><br><span class="line">git status</span><br><span class="line">git commit -m &quot;msg&quot;</span><br><span class="line"></span><br><span class="line"># R（查询）</span><br><span class="line">git status // 查看工作目录中的文件状态（已跟踪【已提交，已暂存，已修改】 未跟踪）</span><br><span class="line">fir diff // 查看未暂存的修改</span><br><span class="line">git diff --cache // 查看未提交的暂存</span><br><span class="line">git log --oneline // 查看提交记录</span><br><span class="line"></span><br><span class="line"># 分支</span><br><span class="line">git log --oneline --decorate --graph --all // 查看整个项目的分支图</span><br><span class="line">git branch // 查看分支列表</span><br><span class="line">git branch -v // 查看分支指向的最新的提交</span><br><span class="line">git branch name // 在当前提交对象上创建新的分支</span><br><span class="line">git branch name commithash // 在指定的提交对象上创建新的分支</span><br><span class="line">git checkout name //切换分支</span><br><span class="line">git branch -d name //删除空的分支或删除已经被合并的分支</span><br><span class="line">git branch -D name // 强制删除分支</span><br></pre></td></tr></table></figure>

<h2 id="4-Git存储"><a href="#4-Git存储" class="headerlink" title="4.Git存储"></a>4.Git存储</h2><p>有时，当你在项目的一部分上已经工作一段时间后，所有东西都进入了混乱的状态，而这时你想要切换到另一个分支做一点别的事情。 问题是，你不想仅仅因为过会儿回到这一点而为做了一半的工作创建一次提交。 针对这个问题的答案是 <code>git stash</code> 命令。</p>
<figure class="highlight plaintext"><figcaption><span>stash ```命令会将未完成的修改保存到一个栈上，而你</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">可以在任何时候重新应用这些改动(```git stash apply```)</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">git stash list    // 查看存储</span><br><span class="line">git stash apply stash@&#123;2&#125;   // 如果不指定一个储藏，Git 认为指定的是最近的储藏</span><br><span class="line">git stash pop     // 来应用储藏然后立即从栈上扔掉它,常使用</span><br><span class="line">git stash drop    // 加上将要移除的储藏的名字来移除它</span><br></pre></td></tr></table></figure>

<h2 id="5-Git后悔药"><a href="#5-Git后悔药" class="headerlink" title="5.Git后悔药"></a>5.Git后悔药</h2><p>三种情景：</p>
<ol>
<li>工作区：如何撤销自己在工作目录中的修改<br><code>git checkout -- filename</code></li>
<li>暂存区：如何撤销自己的暂存<br><code>git reset HEAD filename</code></li>
<li>版本库：如何撤销自己的提交【注释写错】<br><code> git commit --amend  // 重新提交注释信息</code></li>
</ol>
<h5 id="5-1-reset-三部曲-原理"><a href="#5-1-reset-三部曲-原理" class="headerlink" title="5.1 reset 三部曲(原理)"></a>5.1 reset 三部曲(原理)</h5><p>&star; 1.移动 HEAD<br>reset 做的第一件事是移动 HEAD 的指向。<br><code>git reset --soft HEAD~</code></p>
<ul>
<li>只动HEAD（带着分支一起移动）</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220110230239.png"><br><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220110230304.png"></p>
<p>看一眼上图，理解一下发生的事情：它本质上是撤销了上一次 <code>git commit </code>命令。 当你在运行 <code>git commit </code>时，Git 会创建一个新的提交，并移动 HEAD 所指向的分支来使其指向该提交。<br>当你将它 reset 回 HEAD~（HEAD 的父结点）时，其实就是把该分支移动回原来的位置，而不会改变索引和工作目录。 现在你可以更新索引并再次运行 <code>git commit</code> 来完成 <code>git commit --amend </code>所要做的事情了。</p>
<p>&star;  2.更新暂存区（索引）<br><code>git reset --mixed HEAD~</code></p>
<ul>
<li>动HEAD（带着分支一起移动）</li>
<li>动暂存区</li>
</ul>
<p>&star; 3.更新工作目录<br><code>git reset --hard HEAD~</code></p>
<ul>
<li>动HEAD（带着分支一起移动）</li>
<li>动暂存区</li>
<li>动工作目录<br><span style="color:red;">必须注意，–hard 标记是 reset 命令唯一的危险用法，它也是 Git 会 真正地销毁数据的仅有的几个操作之一。 </span></li>
</ul>
<p>git checkout commithash 与 git reset –hard commithash区别：</p>
<ol>
<li>checkout 只动HEAD、–hard动HEAD而且带着分支一起走</li>
<li>checkout对工作目录是安全的、–hard是强制覆盖工作目录</li>
</ol>
<p>路径reset</p>
<p>前面讲述了 reset 基本形式的行为，不过你还可以给它提供一个作用路径。 若指定了一个路径，reset 将会跳过第 1 步，并且将它的作用范围限定为指定的文件或文件集合。<br><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220110233703.png"><br><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220110233729.png"></p>
<h2 id="6-数据恢复"><a href="#6-数据恢复" class="headerlink" title="6.数据恢复"></a>6.数据恢复</h2><p>在你使用 Git 的时候，你可能会意外丢失一次提交。 通常这是因为你强制删除了正在工作的分支，但是最后却发现你还需要这个分支；亦或者硬重置了一个分支，放弃了你想要的提交。 如果这些事情已经发生，该如何找回你的提交呢？<br><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220111103150.png"><br><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220111103238.png"><br>最方便，也是最常用的方法，是使用一个名叫 <code>git reflog</code> 的工具。<br>当你正在工作时，Git 会默默地记录每一次你改变 HEAD 时它的值。 每一<br>次你提交或改变分支，引用日志都会被更新<br><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220111103454.png"><br>git reflog 并不能显示足够多的信息。为了使显示的信息更加有用，<br>我们可以执行 git log -g，这个命令会以标准日志的格式输出引用日志</p>
<p>&star; 恢复</p>
<p>看起来下面的那个就是你丢失的提交，你可以通过创建一个新的分支指向这个提交来恢复它。 例如，你可以创建一个名为 recover-branch 的分支指向这个提交（ab1afef）</p>
<p><code>git branch recover-branch ab1afef</code></p>
<p>现在有一个名为 recover-branch 的分支是你的 master 分支曾经指向的地方，再一次使得前两次提交可到达了。</p>
<h2 id="7-打tag"><a href="#7-打tag" class="headerlink" title="7.打tag"></a>7.打tag</h2><p>Git 可以给历史中的某一个提交打上标签，以示重要。 比较有代表性的是人们会使用这个功能来标记发布结点（v1.0 等等）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">git tag // 列出标签</span><br><span class="line">git show tagname // 查看特定标签</span><br><span class="line">git tag v1.0 // 创建标签1</span><br><span class="line">git tag v1.0 commithash // 创建标签2</span><br><span class="line">git tag -d tagname // 删除标签</span><br><span class="line">git checkout tagname // 检出标签（会造成头部分离，需要再创建一个分支避免）</span><br><span class="line">   + git checkout -b branchname</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/qw-null/BlogImages/20220111231847.jpg"><br><a target="_blank" rel="noopener" href="https://github.com/qw-null/BlogImages/blob/master/git%E5%A4%8D%E4%B9%A0.pdf">文件地址</a></p>
<h2 id="8-团队协作"><a href="#8-团队协作" class="headerlink" title="8.团队协作"></a>8.团队协作</h2><ol>
<li>项目经理初始化远程仓库<br>一定要初始化一个空的仓库，在GitHub上操作</li>
<li>项目经理创建本地仓库<br><code>git remote 别名 仓库地址（可选）</code><br><code>git init</code><br>将源码复制进来（项目内容）<br>修改用户名、邮箱<br><code>git add .</code><br><code>git commit</code></li>
<li>项目经理推送本地仓库到远程仓库<br>清理windows凭据<br><code>git push 别名/项目地址 分支名</code>（输入项目经理的github用户名和密码；推送完之后会附带生成远程跟踪分支）</li>
<li>项目邀请成员 &amp; 成员接受邀请<br>在GitHub上操作</li>
<li>成员克隆远程仓库<br><code>git clone 仓库地址</code>（在本地生成.git文件，默认为远程仓库配了别名 origin）<br>只有在克隆的时候，本地分支master和远程分支 别名/master 是有同步关系的</li>
<li>成员贡献代码<br>修改源码文件<br><code>git add</code><br><code>git commit</code><br><code>git push 别名 分支</code>（输入成员的github用户名和密码；推送完之后会附带生成远程跟踪分支）</li>
<li>项目经理更新修改<br><code>git fetch 别名</code>（将修改同步到远程跟踪分支上）<br><code>git merge 远程跟踪分支</code></li>
</ol>
<h5 id="8-1正常的数据推送和拉取步骤"><a href="#8-1正常的数据推送和拉取步骤" class="headerlink" title="8.1正常的数据推送和拉取步骤"></a>8.1正常的数据推送和拉取步骤</h5><ol>
<li>确保本地分支已经跟踪了远程跟踪分支</li>
<li>拉取数据：<code>git pull</code></li>
<li>上传数据：<code>git push</code></li>
</ol>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">qinwei</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://qw-null.github.io/2021/11/22/Git教程/">https://qw-null.github.io/2021/11/22/Git教程/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://qw-null.github.io">QW's Blog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Git/">Git</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2022/01/16/%E9%9D%92%E8%AE%AD%E8%90%A51-%E5%89%8D%E7%AB%AF%E4%B8%8EHTML/"><i class="fa fa-chevron-left">  </i><span>字节青训营-前端与HTML</span></a></div><div class="next-post pull-right"><a href="/2021/11/18/%E5%88%A0%E9%99%A4%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B9%E3%80%90Leetcode%E3%80%91/"><span>【Leetcode】删除有序数组中的重复项</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '44447f6848cb1055dfc7',
  clientSecret: 'a0ce0faa730cdc822d2e20342d98f605099f3797',
  repo: 'CommentData',
  owner: 'qw-null',
  admin: 'qw-null',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer class="footer-bg" style="background-image: url(https://cdn.jsdelivr.net/gh/qw-null/BlogImages/223.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2021 - 2022 By qinwei</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>